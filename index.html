<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>SD VIBE PRO</title>
    <style>
        :root { --neon: #39FF14; --bg: #0b0b0b; }
        body { background: var(--bg); color: #fff; font-family: sans-serif; margin: 0; padding-bottom: 220px; }
        
        /* Clean Header - No Text, Just Style */
        .header { padding: 30px; text-align: center; border-bottom: 2px solid var(--neon); background: linear-gradient(180deg, rgba(57,255,20,0.1), transparent); }
        .logo-vibe { font-size: 28px; font-weight: bold; color: var(--neon); letter-spacing: 2px; }

        .search-box { display: flex; gap: 10px; padding: 20px; }
        input { flex: 1; padding: 15px; border-radius: 30px; border: 1px solid #333; background: #1a1a1a; color: white; outline: none; }
        .btn-neon { background: var(--neon); color: #000; border: none; padding: 10px 25px; border-radius: 30px; font-weight: bold; cursor: pointer; }

        /* Song Cards */
        .song-card { 
            background: #151515; margin: 10px 15px; padding: 12px; border-radius: 15px;
            display: flex; align-items: center; gap: 15px; border: 1px solid #222;
        }
        .thumb { width: 55px; height: 55px; border-radius: 10px; object-fit: cover; }
        .details { flex: 1; overflow: hidden; }
        .title { display: block; font-weight: bold; font-size: 14px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }

        /* Fixed Bottom Player UI */
        .player-bar { 
            position: fixed; bottom: 15px; left: 5%; width: 90%; background: #000; 
            padding: 20px; border-radius: 25px; border: 2px solid var(--neon); z-index: 9999;
            box-shadow: 0 0 30px rgba(57, 255, 20, 0.2);
        }
        #seekbar { width: 100%; accent-color: var(--neon); height: 6px; margin: 12px 0; }
        .controls { display: flex; justify-content: center; align-items: center; gap: 40px; }
        .c-btn { background: none; border: none; font-size: 35px; color: white; cursor: pointer; }
        #play-p { background: var(--neon); color: #000; width: 55px; height: 55px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 24px; }
        
        #yt-frame { position: fixed; top: -1000px; }
    </style>
</head>
<body>

<div class="header">
    <div class="logo-vibe">üé∂ SD VIBE PRO</div>
</div>

<div class="search-box">
    <input type="text" id="inp" placeholder="Search original songs...">
    <button class="btn-neon" onclick="getMusic()">Search</button>
</div>

<div id="list"></div>

<div class="player-bar" id="ui" style="display:none;">
    <div id="now-playing" style="font-size:12px; color:var(--neon); text-align:center; margin-bottom:10px; font-weight:bold;">Select a Song</div>
    <input type="range" id="seekbar" value="0" min="0">
    <div class="controls">
        <button class="c-btn" onclick="prev()">‚èÆ</button>
        <button class="c-btn" id="play-p" onclick="toggle()">‚ñ∂</button>
        <button class="c-btn" onclick="next()">‚è≠</button>
    </div>
</div>

<div id="yt-frame"><div id="player"></div></div>

<script>
    const KEY = 'AIzaSyBUk4Xa_ZALVYYfWIkpjoZrdx0lt57Y0Gw'; 
    let player, timer, idx = 0, tracks = [];

    const t = document.createElement('script');
    t.src = "https://www.youtube.com/iframe_api";
    document.head.appendChild(t);

    function onYouTubeIframeAPIReady() {
        player = new YT.Player('player', {
            height: '1', width: '10',
            playerVars: { 'playsinline': 1 },
            events: { 'onStateChange': (e) => {
                if(e.data == 1) { document.getElementById('play-p').innerText = 'II'; startT(); }
                else { document.getElementById('play-p').innerText = '‚ñ∂'; }
                if(e.data == 0) next();
            }}
        });
    }

    async function getMusic() {
        const q = document.getElementById('inp').value || "Latest Hindi Hits";
        const div = document.getElementById('list');
        div.innerHTML = '<p style="text-align:center;">Vibing...</p>';
        try {
            const res = await fetch(`https://www.googleapis.com/youtube/v3/search?part=snippet&maxResults=15&q=${encodeURIComponent(q + " Official Audio")}&type=video&key=${KEY}`);
            const d = await res.json();
            tracks = d.items;
            div.innerHTML = '';
            tracks.forEach((item, i) => {
                div.innerHTML += `
                    <div class="song-card" onclick="load(${i})">
                        <img class="thumb" src="${item.snippet.thumbnails.medium.url}">
                        <div class="details"><span class="title">${item.snippet.title}</span></div>
                        <div style="color:var(--neon)">‚ñ∂</div>
                    </div>`;
            });
        } catch(e) { div.innerHTML = '<p>Error!</p>'; }
    }

    function load(i) {
        idx = i;
        player.loadVideoById(tracks[i].id.videoId);
        document.getElementById('now-playing').innerText = tracks[i].snippet.title;
        document.getElementById('ui').style.display = 'block';
    }

    function next() { if(idx < tracks.length-1) load(idx+1); }
    function prev() { if(idx > 0) load(idx-1); }
    function toggle() { player.getPlayerState() == 1 ? player.pauseVideo() : player.playVideo(); }

    function startT() {
        clearInterval(timer);
        timer = setInterval(() => {
            const bar = document.getElementById('seekbar');
            bar.max = player.getDuration();
            bar.value = player.getCurrentTime();
        }, 1000);
    }

    document.getElementById('seekbar').oninput = function() { player.seekTo(this.value, true); };
    window.onload = () => getMusic();
</script>
</body>
</html>

